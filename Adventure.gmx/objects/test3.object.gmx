<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_knight1</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>player_unit</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///SKILLS
skills[0] = sk_move;
skills[1] = sk_attack;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Characters Stats
attacks = 3;
min_d = 3;
max_d = 8;

dodge = 5;
block = 35;
parry = 10;
armor = 4;

name = "Allingar"
hp = 33;
max_hp = 47;

a_range = 75; //attack range
range = 300; //movement range
move_speed = 400;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Game Variables

path = path_add();
selected = false;
draw = false;
test = true;
surf = surface_create(1080, 720);
w = x - bbox_left;
h = y - bbox_top;
nogo = false;
highlight = false;
over = false;
over_other = false;
grow = 0;
update = false;
bbox = 1; // 1 for circle, 0 for rectangle
who = noone;

max_actions = 2;
actions = 2;

image_speed = 0;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select &amp; Depth

if (over = true &amp;&amp; mouse_check_button_pressed(mb_left) &amp;&amp; (game_control.state = "none" || game_control.state = "player"))
   {
   //show_debug_message(string(game_control.selected))
   game_control.state = "player";
   game_control.selected = id;
   game_control.player = true;
   if (instance_exists(move_ghost)) with (move_ghost) instance_destroy();
   
   //reset movement path
   path = path_add();
   path_set_closed(path, false);
   path_add_point(path, x, y, move_speed);
   }
   
depth = -y;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Over

left = x-40
right = x+40
top = y-110;
bottom = y+20;

over = false;
if (mouse_x &gt; left &amp;&amp; mouse_x &lt; right &amp;&amp; mouse_y &gt; top &amp;&amp; mouse_y &lt; bottom) over = true;

if (over = true) game_control.over = id;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///HP BAR
if ((over = true &amp;&amp; (game_control.state = "none" || game_control.state = "player")) || game_control.selected = id) {

yy = y-130;
draw_set_color(c_black);

//How many health boxes are we drawing?
n = ceil(max_hp / 10);
mline = false;
if (n &gt; 5)
   {
   mline = true;
   n2 = n-5;
   }

//Where do we start the draw from?
if (mline = true) 
   {
   boxes = 5;
   x_start = x - 34;
   }
else {
     boxes = n;
     if (boxes = 5) x_start = x - 34;
     if (boxes = 4) x_start = x - 27;
     if (boxes = 3) x_start = x - 20;
     if (boxes = 2) x_start = x - 13;
     if (boxes = 1) x_start = x - 6;
}

//Draw HP Boxes
for (i=0; i&lt;boxes; i++)
    {
    if (i*10 &lt; hp)
       {
       draw_set_color (c_red);
       if (hp / max_hp &gt; .2) draw_set_color(c_orange);
       if (hp / max_hp &gt; .75) draw_set_color(c_green);
       if (i*10 + 10 &lt; hp) draw_rectangle(x_start+i*14+1, yy+1, x_start+i*14+11, yy+11, false);
       else {
            siz = hp - i*10;
            draw_rectangle(x_start+i*14+1, yy+1, x_start+i*14+siz, yy+11, false);
            }
       }
    draw_set_color(c_black);
    if (i*10 + 10 &gt; max_hp)
       {
       siz = max_hp - i*10 + 1;
       draw_rectangle(x_start+i*14, yy, x_start+i*14+siz, yy+12, true);
       }
    else draw_rectangle(x_start+i*14, yy, x_start+i*14+12, yy+12, true);
    }
    
//Draw Second stack of HP Boxes on top if more than 50 Max HP    
if (mline = true)
   {
   boxes = n2;
   yy -= 14;
   if (boxes = 5) x_start = x - 34;
   if (boxes = 4) x_start = x - 27;
   if (boxes = 3) x_start = x - 20;
   if (boxes = 2) x_start = x - 13;
   if (boxes = 1) x_start = x - 6;
   for (i=0; i&lt;boxes; i++)
      {
      if (i*10 + 50 &lt; hp)
         {
         draw_set_color (c_red);
           if (hp / max_hp &gt; .2) draw_set_color(c_orange);
           if (hp / max_hp &gt; .75) draw_set_color(c_green);
           if (i*10 + 50 + 10 &lt; hp) draw_rectangle(x_start+i*14+1, yy+1, x_start+i*14+11, yy+11, false);
           else {
             siz = hp - i*10 - 50;
             draw_rectangle(x_start+i*14+1, yy+1, x_start+i*14+siz, yy+11, false);
             }
         }
      draw_set_color(c_black);
      if (i*10 + 10 + 50 &gt; max_hp)
         {
         siz = max_hp - i*10 + 1 - 50;
         draw_rectangle(x_start+i*14, yy, x_start+i*14+siz, yy+12, true);
         }
       else draw_rectangle(x_start+i*14, yy, x_start+i*14+12, yy+12, true);
      }
   }

draw_set_halign(fa_center);
draw_text(x-1, yy-17, name);
draw_set_halign(fa_left);

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>500</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring>draw_self();</codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Box Highlight
draw_set_color(c_orange);
if (over = true) draw_rectangle(left, top, right, bottom, true);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>97,175</point>
    <point>128,128</point>
  </PhysicsShapePoints>
</object>
